skip to content you signed in with another tab or window. reload to refresh your session. you signed out in another tab or window. reload to refresh your session. you switched accounts on another tab or window. reload to refresh your session. dismiss alert ros2 / message_filters public notifications you must be signed in to change notification settings fork 64 star 71 new issue have a question  this project?  for a free github account to open an issue and  its maintainers and the community.  for github by clicking  for github, you agree to our  of service and  statement . well occasionally send you account related s. already on github?  to your account jump to bottom add a simpler aproximate time sync policy: approximateepsilontime #84 merged ivanpauno merged 12 commits into rolling from ivanpauno/add-approximate-epsilon-time-policy sep 14, 2022 merged add a simpler aproximate time sync policy: approximateepsilontime #84 ivanpauno merged 12 commits into rolling from ivanpauno/add-approximate-epsilon-time-policy sep 14, 2022 conversation copy link member ivanpauno commented sep 2, 2022  edited loading this adds another approximate time policy. the difference is that it doesn't use a relatively complex algorithm to check if the topics are in sync. it works like exacttime, but accepts timestamps being within an "epsilon" tolerance. todo: add test cases. (i have done some manual testing using this in stereo image proc, it seems to work fine) sorry, something went wrong.  1 zhenshenglee reacted with thumbs up emoji all reactions  1 reaction add a simpler aproximate time sync policy: approximateepsilontime  c8d2ca6 signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> ivanpauno added the enhancement new feature or request label sep 2, 2022 ivanpauno requested a review from jacobperron september 2, 2022 20:47 ivanpauno self-assigned this sep 2, 2022 add test cases  9dcdb9c signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> ivanpauno marked this pull request as ready for review september 5, 2022 15:32 gbiggs reviewed sep 5, 2022 view reviewed changes include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved include/message_filters/sync_policies/approximate_epsilon_time.h // tuple& t = tuples_[mt::timestamp<typename std::tuple_element<i, messages>::type>::value(*evt.getmessage())]; auto & events_of_this_type = std::get<i>(events_); if (0u == events_of_this_type.size()) { copy link member gbiggs sep 5, 2022 there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment should this be 0u != events_of_this_type.size() ? sorry, something went wrong. all reactions copy link member author ivanpauno sep 9, 2022 there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment nope. if there weren't previous events of the type being added, then number_of_non_empty_events_ is increased (as now another type has at least one event). the names of variables i'm using may be a bit confusing though sorry, something went wrong. all reactions include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved 6 hidden conversations load more include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved test/test_approximate_epsilon_time_policy.cpp outdated show resolved hide resolved jacobperron reviewed sep 6, 2022 view reviewed changes include/message_filters/sync_policies/approximate_epsilon_time.h outdated show resolved hide resolved test/test_approximate_epsilon_time_policy.cpp outdated show resolved hide resolved test/test_approximate_epsilon_time_policy.cpp outdated show resolved hide resolved ivanpauno added 9 commits september 9, 2022 16:08 remove commented out line  34b8acb signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> remove left-over code  59e4e05 signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> remove commented out erase_old_events()  36b89af signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> replace begin with beggining in method names  fbae9ae signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> remove debug printf  afd1542 signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> update  year and holder in new files  bd38a70 signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> remove extra new line  4384caa signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> modernize for loop  9b83271 signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> remove commented out line  4794a94 signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> ivanpauno requested review from gbiggs and jacobperron september 9, 2022 19:39 replace within_ts with on_sync_with_ts  41d6670 signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com> jacobperron approved these changes sep 12, 2022 view reviewed changes copy link member jacobperron left a comment there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment lgtm sorry, something went wrong. all reactions copy link member author ivanpauno commented sep 13, 2022 linux linux-aarch64 windows all reactions sorry, something went wrong. copy link member author ivanpauno commented sep 13, 2022 @gbiggs could you take another look? all reactions sorry, something went wrong. gbiggs approved these changes sep 13, 2022 view reviewed changes copy link member gbiggs left a comment there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment lgtm! sorry, something went wrong. all reactions ivanpauno merged commit 39c68d0 into rolling sep 14, 2022 delete-merged-branch bot deleted the ivanpauno/add-approximate-epsilon-time-policy branch september 14, 2022 14:14 copy link member author ivanpauno commented sep 14, 2022 thanks for the reviews @jacobperron @gbiggs !!! all reactions sorry, something went wrong. ivanpauno mentioned this pull request oct 4, 2022 add approximate epsilon time policy support ros-perception/image_pipeline#776 merged copy link zhenshenglee commented sep 8, 2023 it works like exacttime, but accepts timestamps being within an "epsilon" tolerance. according to our test, the epsilon version causes less latency to get a good enough sync results in a 8-cameras image pipeline. thanks! all reactions sorry, something went wrong. zhenshenglee pushed a commit to zhenshenglee/message_filters that referenced this pull request jan 12, 2024 add a simpler aproximate time sync policy: approximateepsilontime ( ro  9e54996 s2#84 ) signed-off-by: ivan santiago paunovic <ivanpauno@ekumenlabs.com>  for free to join this conversation on github . already have an account?  to comment reviewers gbiggs gbiggs approved these changes jacobperron jacobperron approved these changes assignees ivanpauno labels enhancement new feature or request projects none yet milestone no milestone development successfully merging this pull request may close these issues. 4 participants add this suggestion to a batch that can be applied as a single commit. this suggestion is invalid because no changes were made to the code. suggestions cannot be applied while the pull request is closed. suggestions cannot be applied while viewing a subset of changes. only one suggestion per line can be applied in a batch. add this suggestion to a batch that can be applied as a single commit. applying suggestions on deleted lines is not supported. you must change the existing code in this line in order to create a valid suggestion. outdated suggestions cannot be applied. this suggestion has been applied or marked resolved. suggestions cannot be applied from pending reviews. suggestions cannot be applied on multi-line comments. suggestions cannot be applied while the pull request is queued to merge. suggestion cannot be applied right now.  check back later. you cant perform that action at this time.