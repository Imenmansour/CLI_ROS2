skip to content you signed in with another tab or window. reload to refresh your session. you signed out in another tab or window. reload to refresh your session. you switched accounts on another tab or window. reload to refresh your session. dismiss alert ros2 / rviz public notifications you must be signed in to change notification settings fork 210 star 293 new issue have a question  this project?  for a free github account to open an issue and  its maintainers and the community.  for github by clicking  for github, you agree to our  of service and  statement . well occasionally send you account related s. already on github?  to your account jump to bottom migrate wrench display #396 merged jacobperron merged 12 commits into ros2 : ros2 from martin-idel : feature/migrate_wrench_display jun 19, 2019 merged migrate wrench display #396 jacobperron merged 12 commits into ros2 : ros2 from martin-idel : feature/migrate_wrench_display jun 19, 2019 conversation copy link contributor martin-idel commented apr 26, 2019  edited loading closes #91 as before: add unit tests for 3d-component (they also reveal some problems with updates that get fixed) add visual test for display including reference image refactoring in separate commits to apply general coding standard for ros 2 ci: linux linux-aarch64 macos windows sorry, something went wrong. all reactions tfoote added the in review waiting for review (kanban column) label apr 26, 2019 martin-idel force-pushed the feature/migrate_wrench_display branch from 71c1b35 to 255bc01 compare april 27, 2019 20:42 martin-idel added 7 commits may 27, 2019 16:38 move wrench display 6b8f194 make it compile + fix linters fade326 add visual test 2ee85c5 add unit tests for wrench_visual b94076f refactoring of wrench visual  9c6877a - make visual update length when user updates it in the display panel minor refactoring of wrench_stamped_display 4f90f39 add use_math_defines for windows compatibility 2736ebf martin-idel force-pushed the feature/migrate_wrench_display branch from 255bc01 to 2736ebf compare may 29, 2019 15:09 update readme 6afda84 jacobperron self-requested a review june 18, 2019 00:56 jacobperron reviewed jun 18, 2019 view reviewed changes rviz_default_plugins/include/rviz_default_plugins/displays/wrench/wrench_stamped_display.hpp outdated { class rviz_default_plugins_public wrenchstampeddisplay : public copy link member jacobperron jun 18, 2019 there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment i don't think there's anything to do in this pr, but i noticed we're not including "stamped" in the name of classes for other stamped message types (except pointstamped). perhaps we should consider renaming this (and the pointstamped) plugin to remove "stamped" from the name for consistency. or, add "stamped" to the other plugins for stamped messages. sorry, something went wrong. all reactions copy link contributor author martin-idel jun 19, 2019 there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment i agree. i could change it for the wrenchdisplay in this pr if you want because it's not yet on master. for the pointstamped, we should definitely have a new pr and we probably also need a workaround for older configs. sorry, something went wrong.  1 jacobperron reacted with thumbs up emoji all reactions  1 reaction rviz_rendering/include/rviz_rendering/objects/wrench_visual.hpp outdated show resolved hide resolved rviz_rendering/src/rviz_rendering/objects/wrench_visual.cpp outdated show resolved hide resolved rviz_rendering/src/rviz_rendering/objects/wrench_visual.cpp outdated show resolved hide resolved rviz_rendering/src/rviz_rendering/objects/wrench_visual.cpp outdated show resolved hide resolved rviz_rendering/src/rviz_rendering/objects/wrench_visual.cpp outdated show resolved hide resolved rviz_rendering/test/rviz_rendering/objects/wrench_visual_test.cpp outdated expect_that(force_arrow->getscale(), vector3eq(ogre::vector3(0.2f, 3, 0.2f))); } test_f(wrenchvisualtestfixture, setwrench_updates_force_array_correctly) { copy link member jacobperron jun 18, 2019 there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment what is this supposed to be testing? it looks identical to the previous test. sorry, something went wrong. all reactions rviz_rendering/test/rviz_rendering/objects/wrench_visual_test.cpp auto wrench_visual = std::make_shared<rviz_rendering::wrenchvisual>(scene_manager, root_node); wrench_visual->setforcescale(1); wrench_visual->setwidth(0.2f); copy link member jacobperron jun 18, 2019 there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment it would also be nice to test the case when the width is greater than the arrow length. sorry, something went wrong. all reactions copy link contributor author martin-idel jun 19, 2019 there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment i rewrote the second test to do just that. i think i wanted to do this and therefore copied the first but never actually changed it... sorry, something went wrong. all reactions martin-idel added 3 commits june 19, 2019 15:19 improve const-correctness for local variables dc47b80 fix short class description for wrenchvisual 79ce235 fix wrenchvisual test for larger width than length 779a87f copy link contributor author martin-idel commented jun 19, 2019 thanks for the review. i agree with the naming problems. should i just change the wrenchdisplay name here? all reactions sorry, something went wrong. copy link member jacobperron commented jun 19, 2019 should i just change the wrenchdisplay name here? i think that would be good. then we only have the pointstamped message to deal with later. all reactions sorry, something went wrong. wjwwood mentioned this pull request jun 19, 2019 ros 2 eloquent elusor ros2/ros2#734 closed 34 tasks change display name to wrenchdisplay  14129d7 - other displays don't include the "stamped" part in their name jacobperron approved these changes jun 19, 2019 view reviewed changes copy link member jacobperron left a comment  edited loading there was a problem hiding this comment. choose a reason for hiding this comment the reason will be displayed to describe this comment to others. learn more . choose a reason spam abuse off topic outdated duplicate resolved hide comment lgtm, cheers! linux linux-aarch64 macos windows edit: re-triggered ci with up-to-date repos file. sorry, something went wrong.  1 martin-idel reacted with thumbs up emoji all reactions  1 reaction jacobperron merged commit 6877a13 into ros2 : ros2 jun 19, 2019  for free to join this conversation on github . already have an account?  to comment reviewers jacobperron jacobperron approved these changes assignees no one assigned labels in review waiting for review (kanban column) projects none yet milestone no milestone development successfully merging this pull request may close these issues. migrate wrenchstampeddisplay 3 participants add this suggestion to a batch that can be applied as a single commit. this suggestion is invalid because no changes were made to the code. suggestions cannot be applied while the pull request is closed. suggestions cannot be applied while viewing a subset of changes. only one suggestion per line can be applied in a batch. add this suggestion to a batch that can be applied as a single commit. applying suggestions on deleted lines is not supported. you must change the existing code in this line in order to create a valid suggestion. outdated suggestions cannot be applied. this suggestion has been applied or marked resolved. suggestions cannot be applied from pending reviews. suggestions cannot be applied on multi-line comments. suggestions cannot be applied while the pull request is queued to merge. suggestion cannot be applied right now.  check back later. you cant perform that action at this time.